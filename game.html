<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Guess the Number Game</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 400px;
      margin: 40px auto;
      padding: 20px;
      background: #f0f4f8;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    h1 {
      text-align: center;
    }
    label, select, input, button {
      display: block;
      width: 100%;
      margin: 10px 0;
      font-size: 1rem;
      padding: 10px;
      border-radius: 4px;
      border: 1px solid #ccc;
      box-sizing: border-box;
    }
    button {
      cursor: pointer;
      background-color: #007BFF;
      border: none;
      color: white;
      font-weight: bold;
      transition: background-color 0.3s ease;
    }
    button:hover:not(:disabled) {
      background-color: #0056b3;
    }
    .message {
      margin-top: 15px;
      padding: 10px;
      border-radius: 4px;
      min-height: 50px;
    }
    .hint {
      background-color: #d9edf7;
      color: #31708f;
    }
    .success {
      background-color: #dff0d8;
      color: #3c763d;
    }
    .error {
      background-color: #f2dede;
      color: #a94442;
    }
  </style>
</head>
<body>
  <h1>Guess the Number</h1>

  <label for="difficulty">Choose difficulty:</label>
  <select id="difficulty">
    <option value="easy">Easy (1-50, 10 attempts)</option>
    <option value="medium" selected>Medium (1-100, 7 attempts)</option>
    <option value="hard">Hard (1-200, 5 attempts)</option>
  </select>

  <button id="start-btn">Start Game</button>

  <div id="game-area" style="display:none;">
    <p id="range-info"></p>
    <label for="guess-input">Enter your guess:</label>
    <input type="number" id="guess-input" placeholder="Type a number" />
    <button id="guess-btn">Guess</button>
    <div id="message" class="message"></div>
    <p id="attempts-info"></p>
    <p id="score-info"></p>
  </div>

  <script>
    const difficultySettings = {
      easy: {low: 1, high: 50, maxAttempts: 10},
      medium: {low: 1, high: 100, maxAttempts: 7},
      hard: {low: 1, high: 200, maxAttempts: 5}
    };

    let targetNumber, attempts, maxAttempts, low, high;
    let gameStarted = false;

    const difficultySelect = document.getElementById('difficulty');
    const startBtn = document.getElementById('start-btn');
    const gameArea = document.getElementById('game-area');
    const rangeInfo = document.getElementById('range-info');
    const guessInput = document.getElementById('guess-input');
    const guessBtn = document.getElementById('guess-btn');
    const messageDiv = document.getElementById('message');
    const attemptsInfo = document.getElementById('attempts-info');
    const scoreInfo = document.getElementById('score-info');

    startBtn.addEventListener('click', startGame);
    guessBtn.addEventListener('click', makeGuess);
    guessInput.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') makeGuess();
    });

    function startGame() {
      const difficulty = difficultySelect.value;
      ({low, high, maxAttempts} = difficultySettings[difficulty]);
      targetNumber = Math.floor(Math.random() * (high - low + 1)) + low;
      attempts = 0;
      gameStarted = true;

      rangeInfo.textContent = `I'm thinking of a number between ${low} and ${high}.`;
      attemptsInfo.textContent = `Attempts left: ${maxAttempts - attempts}`;
      scoreInfo.textContent = '';
      messageDiv.textContent = '';
      messageDiv.className = 'message';
      guessInput.value = '';
      guessInput.disabled = false;
      guessBtn.disabled = false;
      gameArea.style.display = 'block';
      guessInput.focus();
    }

    function makeGuess() {
      if (!gameStarted) return;

      const guess = Number(guessInput.value);
      if (!guess || guess < low || guess > high) {
        showMessage(`Please enter a number between ${low} and ${high}.`, 'error');
        return;
      }

      attempts++;
      if (guess === targetNumber) {
        const score = maxAttempts - attempts + 1;
        showMessage(`ðŸŽ‰ Congratulations! You guessed it in ${attempts} attempts. Your score is ${score} points.`, 'success');
        endGame();
        return;
      } 
      
      if (guess < targetNumber) {
        showMessage("Too low! Try again.", 'error');
      } else {
        showMessage("Too high! Try again.", 'error');
      }

      attemptsInfo.textContent = `Attempts left: ${maxAttempts - attempts}`;

      // Hint after half attempts used
      if (attempts === Math.floor(maxAttempts / 2)) {
        const hint = (targetNumber % 2 === 0) ? "even" : "odd";
        showMessage(`Hint: The number is ${hint}.`, 'hint');
      }

      if (attempts >= maxAttempts) {
        showMessage(`Game over! The number was ${targetNumber}.`, 'error');
        endGame();
      }

      guessInput.value = '';
      guessInput.focus();
    }

    function showMessage(msg, type) {
      messageDiv.textContent = msg;
      messageDiv.className = `message ${type}`;
    }

    function endGame() {
      gameStarted = false;
      guessInput.disabled = true;
      guessBtn.disabled = true;

      // Offer to restart the game after 2 seconds
      setTimeout(() => {
        if (confirm('Do you want to play again?')) {
          startGame();
        } else {
          messageDiv.textContent = 'Thanks for playing!';
          messageDiv.className = 'message success';
        }
      }, 200);
    }
  </script>
</body>
</html>
